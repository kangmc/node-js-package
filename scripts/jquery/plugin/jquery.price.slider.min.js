/*! tru.package 2014-10-15 */
!function(a){a.fn.priceSlider=function(b){var c={max:"",min:"",start:"",end:""},d=a.extend(!0,c,b),e=this;return this.each(function(){var b=a(d.start),c=a(d.end),f=a(d.min,e),g=a(d.max,e),h=f.text()||0,i=g.text()||1e6,j=parseInt(b.asNumber(),10),k=parseInt(c.asNumber(),10),l=void 0,m=void 0,n=void 0;h=parseInt(h.replace(/,/g,""),10),i=parseInt(i.replace(/,/g,""),10),e.slider({range:!0,min:h,max:i,step:1e3,values:[j,k],slide:function(d,e){var f=e.values[0],g=e.values[1];l.text(a.addCommas(f)),m.text(a.addCommas(g)),b.val(a.addCommas(f)),c.val(a.addCommas(g))}}),b.on("keyup keydown keypress",function(c){if(!a.isNumberKey(c))return!1;if(!a.isNumberKey(c))return!1;var d=b.val();e.slider("values",0,d),l.text(a.addCommas(d))}),b.on("focus",function(){b.val(b.asNumber())}),b.on("blur",function(){b.formatCurrency(),b.asNumber()<h&&b.val(h),b.asNumber()>c.asNumber()&&b.val(c.val()),b.formatCurrency(),e.slider("values",0,b.asNumber()),l.text(b.val())}),c.on("keyup keydown keypress",function(b){if(!a.isNumberKey(b))return!1;var d=c.val();e.slider("values",1,d),m.text(a.addCommas(d))}),c.on("focus",function(){c.val(c.asNumber())}),c.on("blur",function(){c.formatCurrency(),c.asNumber()>i&&c.val(i),c.asNumber()<b.asNumber()&&c.val(b.val()),c.formatCurrency(),e.slider("values",1,c.asNumber()),m.text(c.val())});var o=[{name:"최소 가격",price:a.addCommas(j)},{name:"최대 가격",price:a.addCommas(k)}];e.find(".ui-slider-handle").each(function(b,c){var d=a('<span class="hidden">'+o[b].name+'</span><span class="price-tooltip-wrap"><em class="price-tooltip">'+o[b].price+"</em></span>");a(c).html(d)}),n=e.find(".price-tooltip"),l=a(n.get(0)),m=a(n.get(1))})}}(jQuery,window,document);