/*! scripts.package 2014-11-10 */
!function(a,b,c){function d(){this.base=c.createElement("div"),this.add=function(a){var b="object"==typeof a?a:c.getElementById(a);b.appendChild(this.base)},this.show=function(){this.base.style.display="block"},this.hide=function(){this.base.style.display="none"},this.remove=function(){this.base.remove()},this.clear=function(b){a("#"+b).remove()}}function e(b){var e=this,f={id:"layer",html:'<header><h4>test</h4></header><button class="closePopup" type="button">close</button><div><span>this is layer</span></div>',attr:{style:"background-color:#ddd; position:absolute; left:50%; top:50%; width:200px; height:200px; margin: -100px 0 0 -100px;"},target:c.body},h=a.extend(f,b);d.call(this),g(this.base,h),e.clear(h.id),e.add(h.target),a(".closePopup").on("click",function(){e.remove()})}function f(b,c){var e=this,f=(a(this),{id:"tooltip",html:"<header><h4>test</h4></header><div><span>this is layer</span></div>",attr:{style:"background-color:#ddd; position:absolute;"}}),h=a.extend(f,b);d.call(this),g(this.base,h),a(this.base).css({left:c.position().x,top:c.position().y}),e.clear(h.id),h.invisible&&e.hide()}function g(a,b){a.setAttribute("id",b.id),a.innerHTML=b.html;for(var c=Object.keys(b.attr),d=0;d<c.length;d++){var e=c[d];a.setAttribute(e,b.attr[e])}}a.layerPopup=function(a){return new e(a)},a.fn.layerTooltip=function(){var b=a(this);b.each(function(){var b=this,c=a(this),d=new f({invisible:!0,html:c.data("tooltip")},c);d.add(b),c.on("mouseenter",function(){d.show()}).on("mouseleave",function(){d.hide()})})}}(jQuery,window,document);